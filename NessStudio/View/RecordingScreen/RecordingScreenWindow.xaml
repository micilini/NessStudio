<Window x:Class="NessStudio.View.RecordingScreen.RecordingScreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen"
        Background="#1C1F21"
        Title="Ness Studio Recorder"
        Height="221" Width="710"
        MinHeight="221" MaxHeight="221"
        MinWidth="710"  MaxWidth="710">
    <Grid>
        <Grid Margin="8,6,8,8" x:Name="GridRecordSettings" Visibility="{Binding IsSettingsPanelVisible, Converter={StaticResource BoolToVis}}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="170"/>
                <ColumnDefinition Width="175"/>
                <ColumnDefinition Width="175"/>
                <ColumnDefinition Width="175"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0"
             CornerRadius="8"
             BorderBrush="#2A2F33"
             BorderThickness="1"
             Background="#232629"
             Padding="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" IsEnabled="{Binding IsEditEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
                     Width="157" Height="116"
                     HorizontalAlignment="Center"
                     CornerRadius="6"
                     Background="#2E3337"
                     BorderBrush="#3A4045"
                     BorderThickness="1">

                        <StackPanel>
                            <TextBlock Text="Screen Monitor"
             FontSize="12"
             Foreground="#CCD5D7"
             HorizontalAlignment="Center"
             Margin="0 45 0 0"
             Visibility="{Binding IsScreenEnabled,
                                  Converter={StaticResource InvertBoolToVisibility},
                                  Mode=OneWay}"/>

                            <TextBlock Text="{Binding DrawAreaInfoText}"
           FontSize="12"
           Foreground="#CCD5D7"
           HorizontalAlignment="Center"
           TextWrapping="Wrap"
           Margin="0 45 0 0"
           Visibility="{Binding IsDrawAreaInfoVisible,
                                Converter={StaticResource BoolToVis},
                                Mode=OneWay}"/>

                            <Image Source="{Binding ScreenPreviewImage}" RenderOptions.BitmapScalingMode="LowQuality" CacheMode="BitmapCache"
         Width="157" Height="116"
         Stretch="Uniform"
         SnapsToDevicePixels="True"
         UseLayoutRounding="True"
         ClipToBounds="True"
         Visibility="{Binding IsScreenEnabled,
                              Converter={StaticResource BoolToVis},
                              Mode=OneWay}"/>
                        </StackPanel>


                    </Border>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="8"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <ToggleButton Grid.Column="0"
                               Style="{StaticResource MaterialDesignSwitchToggleButton}"
                               VerticalAlignment="Center"
                               IsEnabled="{Binding IsEditEnabled}"
                               IsChecked="{Binding IsScreenEnabled, Mode=TwoWay}"
                               >
                            <TextBlock Text=""
                                Foreground="#CCD5D7"
                                FontSize="12"
                                Margin="6,0,0,0"/>
                        </ToggleButton>

                        <ComboBox
    Grid.Column="2"
                            IsEnabled="{Binding IsScreenEnabled}"  IsHitTestVisible="{Binding IsEditEnabled}"
    ItemsSource="{Binding ScreenOptions}"
    SelectedItem="{Binding SelectedScreenOption, Mode=TwoWay}"
    DisplayMemberPath="Display"
    VerticalAlignment="Center"
    Height="26"
    MinWidth="110"
    Padding="0"
    Foreground="#CCD5D7"
    IsEditable="False">

                            <ComboBox.Template>
                                <ControlTemplate TargetType="ComboBox">
                                    <Grid SnapsToDevicePixels="True">
                                        <ToggleButton x:Name="PART_DropDownToggle"
                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                              Focusable="False"
                              Background="Transparent" Foreground="#CCD5D7"
                              BorderThickness="0"
                                                      Width="110"
                              OverridesDefaultStyle="True"
                              ClickMode="Press">
                                            <ToggleButton.Template>
                                                <ControlTemplate TargetType="ToggleButton">
                                                    <Border x:Name="Header"
                                    Background="#2E3338"
                                    BorderBrush="#23282C"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Padding="6,0"
                                    MinWidth="{Binding MinWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                    SnapsToDevicePixels="True">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition/>
                                                                <ColumnDefinition Width="18"/>
                                                            </Grid.ColumnDefinitions>

                                                            <ContentPresenter
                                        Margin="0"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left"
                                        Content="{Binding SelectionBoxItem, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplate="{Binding SelectionBoxItemTemplate, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplateSelector="{Binding ItemTemplateSelector, RelativeSource={RelativeSource AncestorType=ComboBox}}"/>

                                                            <Path x:Name="Arrow"
                                          Grid.Column="1"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Width="10" Height="6"
                                          Data="M 0 0 L 10 0 L 5 6 Z"
                                          Fill="#CCD5D7"/>
                                                        </Grid>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                        </Trigger>
                                                        <Trigger Property="IsChecked" Value="True">
                                                            <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                        </Trigger>
                                                        <Trigger Property="IsEnabled" Value="False">
                                                            <Setter TargetName="Header" Property="Opacity" Value="0.6"/>
                                                            <Setter TargetName="Arrow" Property="Fill" Value="#889195"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </ToggleButton.Template>
                                        </ToggleButton>

                                        <Popup x:Name="PART_Popup"
                       Placement="Bottom"
                       AllowsTransparency="True"
                       Focusable="False"
                       IsOpen="{TemplateBinding IsDropDownOpen}"
                       StaysOpen="False">
                                            <Border Background="#3A4045"
                            BorderBrush="#3A4045"
                            BorderThickness="0"
                            Padding="0"
                            CornerRadius="0"
                            SnapsToDevicePixels="True">
                                                <ScrollViewer CanContentScroll="True" Background="#3A4045" Padding="0">
                                                    <ItemsPresenter/>
                                                </ScrollViewer>
                                            </Border>
                                        </Popup>
                                    </Grid>
                                </ControlTemplate>
                            </ComboBox.Template>

                            <ComboBox.ItemContainerStyle>
                                <Style TargetType="ComboBoxItem">
                                    <Setter Property="Foreground" Value="#CCD5D7"/>
                                    <Setter Property="Background" Value="#3A4045"/>
                                    <Setter Property="BorderBrush" Value="#3A4045"/>
                                    <Setter Property="Padding" Value="6,4"/>
                                    <Setter Property="SnapsToDevicePixels" Value="True"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#4A5055"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#576067"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Foreground" Value="#778088"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ComboBox.ItemContainerStyle>
                        </ComboBox>

                    </Grid>
                </Grid>
            </Border>

            <Border Grid.Column="1" IsEnabled="{Binding IsEditEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
             Margin="5 0 0 0"
     CornerRadius="8"
     BorderBrush="#2A2F33"
     BorderThickness="1"
     Background="#232629"
     Padding="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0"
             Width="157" Height="116"
             HorizontalAlignment="Center"
             CornerRadius="6"
             Background="#2E3337"
             BorderBrush="#3A4045"
             BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Screen Webcam"
FontSize="12"
Foreground="#CCD5D7"
HorizontalAlignment="Center"
Margin="0 45 0 0"
Visibility="{Binding IsWebcamEnabled,
                     Converter={StaticResource InvertBoolToVisibility},
                     Mode=OneWay}"/>

                            <Image Source="{Binding WebcamPreviewImage}" Visibility="{Binding IsWebcamEnabled, Converter={StaticResource BoolToVis}, Mode=OneWay}"
                        Width="157" Height="116"
                                   RenderOptions.BitmapScalingMode="LowQuality" CacheMode="BitmapCache"
                        Stretch="Uniform"
                        SnapsToDevicePixels="True"
                        UseLayoutRounding="True"
                        ClipToBounds="True"/>
                        </StackPanel>
                    </Border>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="8"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <ToggleButton x:Name="tglWebcam"
           Style="{StaticResource MaterialDesignSwitchToggleButton}"
           VerticalAlignment="Center"
           IsEnabled="{Binding IsEditEnabled}"
           IsChecked="{Binding IsWebcamEnabled, Mode=TwoWay}">
                            <TextBlock Text="" Foreground="#CCD5D7" FontSize="12" Margin="6,0,0,0"/>
                        </ToggleButton>


                        <ComboBox
    Grid.Column="2"
                            IsEnabled="{Binding IsWebcamEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
    ItemsSource="{Binding Webcams}"
    SelectedItem="{Binding SelectedWebcam, Mode=TwoWay}"
    DisplayMemberPath="Name"
    VerticalAlignment="Center"
    Height="26"
    MinWidth="110"
    Padding="0"
    Foreground="#CCD5D7"
    IsEditable="False"
    MaxDropDownHeight="260">

                            <ComboBox.Template>
                                <ControlTemplate TargetType="ComboBox">
                                    <Grid SnapsToDevicePixels="True">

                                        <ToggleButton x:Name="PART_DropDownToggle"
                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                              Focusable="False" Foreground="#CCD5D7"
                              Background="Transparent"
                              BorderThickness="0"
                              OverridesDefaultStyle="True"
                              FocusVisualStyle="{x:Null}"
                              ClickMode="Press"
                              Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}">
                                            <ToggleButton.Template>
                                                <ControlTemplate TargetType="ToggleButton">
                                                    <Border x:Name="Header"
                                    Background="#2E3338"
                                    BorderBrush="#23282C"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Padding="6,0"
                                    MinWidth="{Binding MinWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                    SnapsToDevicePixels="True">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition/>
                                                                <ColumnDefinition Width="18"/>
                                                            </Grid.ColumnDefinitions>

                                                            <ContentPresenter
                                        Margin="0"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left"
                                        Content="{Binding SelectionBoxItem, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplate="{Binding SelectionBoxItemTemplate, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplateSelector="{Binding ItemTemplateSelector, RelativeSource={RelativeSource AncestorType=ComboBox}}"/>

                                                            <Path x:Name="Arrow"
                                          Grid.Column="1"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Width="10" Height="6"
                                          Data="M 0 0 L 10 0 L 5 6 Z"
                                          Fill="#CCD5D7"/>
                                                        </Grid>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                        </Trigger>
                                                        <Trigger Property="IsChecked" Value="True">
                                                            <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                        </Trigger>
                                                        <Trigger Property="IsEnabled" Value="False">
                                                            <Setter TargetName="Header" Property="Opacity" Value="0.6"/>
                                                            <Setter TargetName="Arrow" Property="Fill" Value="#889195"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </ToggleButton.Template>
                                        </ToggleButton>

                                        <Popup x:Name="PART_Popup"
                       Placement="Bottom"
                       AllowsTransparency="True"
                       Focusable="False"
                       IsOpen="{TemplateBinding IsDropDownOpen}"
                       StaysOpen="False">
                                            <Border Background="#3A4045"
                            BorderBrush="#3A4045"
                            BorderThickness="0"
                            Padding="0"
                            CornerRadius="0"
                            SnapsToDevicePixels="True">
                                                <ScrollViewer CanContentScroll="True" Background="#3A4045" Padding="0">
                                                    <ItemsPresenter/>
                                                </ScrollViewer>
                                            </Border>
                                        </Popup>
                                    </Grid>
                                </ControlTemplate>
                            </ComboBox.Template>

                            <ComboBox.ItemContainerStyle>
                                <Style TargetType="ComboBoxItem">
                                    <Setter Property="Foreground" Value="#CCD5D7"/>
                                    <Setter Property="Background" Value="#3A4045"/>
                                    <Setter Property="BorderBrush" Value="#3A4045"/>
                                    <Setter Property="Padding" Value="6,4"/>
                                    <Setter Property="SnapsToDevicePixels" Value="True"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#4A5055"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#576067"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ComboBox.ItemContainerStyle>
                        </ComboBox>


                    </Grid>
                </Grid>
            </Border>

            <Border Grid.Column="2" IsEnabled="{Binding IsEditEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
     Margin="5,0,0,0"
     CornerRadius="8"
     BorderBrush="#2A2F33"
     BorderThickness="1"
     Background="#232629"
     Padding="8">
                <StackPanel VerticalAlignment="Center" >

                    <StackPanel Margin="0 0 0 0">
                        <DockPanel Margin="0,0,0,8">
                            <Image Source="{Binding MicrophoneIcon}"
                    Width="25" Height="25" RenderOptions.BitmapScalingMode="HighQuality"
                    Margin="0,0,6,0"
                    VerticalAlignment="Center"/>
                            <Slider Minimum="0" Maximum="100" x:Name="sldMicVolume" Value="80" IsEnabled="{Binding IsMicrophoneEnabled}"
                     Height="22"
                     />
                        </DockPanel>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <ToggleButton Grid.Column="0" x:Name="tglMicrophone" IsChecked="{Binding IsMicrophoneEnabled, Mode=TwoWay}" IsEnabled="{Binding IsEditEnabled}"
                           Style="{StaticResource MaterialDesignSwitchToggleButton}"
                           VerticalAlignment="Center"
                          >
                                <TextBlock Text=""
                            Foreground="#CCD5D7"
                            FontSize="12"
                            Margin="6,0,0,0"/>
                            </ToggleButton>

                            <ComboBox
    Grid.Column="2"
                                IsEnabled="{Binding IsMicrophoneEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
    ItemsSource="{Binding Microphones}"
    SelectedItem="{Binding SelectedMicrophone, Mode=TwoWay}"
    DisplayMemberPath="FriendlyName"
    VerticalAlignment="Center"
    Height="26"
    MinWidth="110"
    Padding="0"
    Foreground="#CCD5D7"
    IsEditable="False"
    MaxDropDownHeight="260">

                                <ComboBox.Template>
                                    <ControlTemplate TargetType="ComboBox">
                                        <Grid SnapsToDevicePixels="True">
                                            <ToggleButton x:Name="PART_DropDownToggle"
                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                              Focusable="False"
                              Background="Transparent" Foreground="#CCD5D7"
                              BorderThickness="0"
                              OverridesDefaultStyle="True"
                              FocusVisualStyle="{x:Null}"
                              ClickMode="Press"
                              Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}">
                                                <ToggleButton.Template>
                                                    <ControlTemplate TargetType="ToggleButton">
                                                        <Border x:Name="Header"
                                    Background="#2E3338"
                                    BorderBrush="#23282C"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Padding="6,0"
                                    MinWidth="{Binding MinWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                    SnapsToDevicePixels="True">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition/>
                                                                    <ColumnDefinition Width="18"/>
                                                                </Grid.ColumnDefinitions>

                                                                <ContentPresenter
                                        Margin="0"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left"
                                        Content="{Binding SelectionBoxItem, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplate="{Binding SelectionBoxItemTemplate, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                                        ContentTemplateSelector="{Binding ItemTemplateSelector, RelativeSource={RelativeSource AncestorType=ComboBox}}"/>

                                                                <Path x:Name="Arrow"
                                          Grid.Column="1"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Width="10" Height="6"
                                          Data="M 0 0 L 10 0 L 5 6 Z"
                                          Fill="#CCD5D7"/>
                                                            </Grid>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                            </Trigger>
                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter TargetName="Header" Property="BorderBrush" Value="#3A4045"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter TargetName="Header" Property="Opacity" Value="0.6"/>
                                                                <Setter TargetName="Arrow" Property="Fill" Value="#889195"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </ToggleButton.Template>
                                            </ToggleButton>

                                            <Popup x:Name="PART_Popup"
                       Placement="Bottom"
                       AllowsTransparency="True"
                       Focusable="False"
                       IsOpen="{TemplateBinding IsDropDownOpen}"
                       StaysOpen="False">
                                                <Border Background="#3A4045"
                            BorderBrush="#3A4045"
                            BorderThickness="0"
                            Padding="0"
                            CornerRadius="0"
                            SnapsToDevicePixels="True">
                                                    <ScrollViewer CanContentScroll="True" Background="#3A4045" Padding="0">
                                                        <ItemsPresenter/>
                                                    </ScrollViewer>
                                                </Border>
                                            </Popup>
                                        </Grid>
                                    </ControlTemplate>
                                </ComboBox.Template>

                                <ComboBox.ItemContainerStyle>
                                    <Style TargetType="ComboBoxItem">
                                        <Setter Property="Foreground" Value="#CCD5D7"/>
                                        <Setter Property="Background" Value="#3A4045"/>
                                        <Setter Property="BorderBrush" Value="#3A4045"/>
                                        <Setter Property="Padding" Value="6,4"/>
                                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#4A5055"/>
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="#576067"/>
                                                <Setter Property="Foreground" Value="White"/>
                                            </Trigger>
                                            <Trigger Property="IsEnabled" Value="False">
                                                <Setter Property="Foreground" Value="#778088"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </ComboBox.ItemContainerStyle>
                            </ComboBox>

                        </Grid>
                    </StackPanel>

                    <StackPanel Margin="0 15 0 15">
                        <Border BorderThickness="0,0,0,1" BorderBrush="#708089" />
                    </StackPanel>
                    <StackPanel>
                        <DockPanel Margin="0,0,0,8">
                            <Image Source="{Binding SystemAudioIcon}"
                    Width="25" Height="25"
                    Margin="0,0,6,0" RenderOptions.BitmapScalingMode="HighQuality"
                    VerticalAlignment="Center"/>
                            <Slider Minimum="0" Maximum="100" x:Name="sldSystemVolume" Value="80" IsEnabled="{Binding IsSystemAudioEnabled}"
                     Height="22"
                     />
                        </DockPanel>

                        <WrapPanel VerticalAlignment="Center">
                            <ToggleButton Style="{StaticResource MaterialDesignSwitchToggleButton}" IsEnabled="{Binding IsEditEnabled}"
                            x:Name="tglSystemAudio" IsChecked="{Binding IsSystemAudioEnabled, Mode=TwoWay}"
                           VerticalAlignment="Center">
                                <TextBlock Text=""
                            Foreground="#CCD5D7"
                            FontSize="12"
                            Margin="6,0,0,0"/>
                            </ToggleButton>
                            <TextBlock Text="System Audio"
                                Foreground="#708089"
                                FontSize="12"
                                Margin="6"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                        </WrapPanel>
                    </StackPanel>

                </StackPanel>
            </Border>

            <Border Grid.Column="3" IsEnabled="{Binding IsEditEnabled}" IsHitTestVisible="{Binding IsEditEnabled}"
     Margin="5 0 0 0"
     CornerRadius="8"
     BorderBrush="#2A2F33"
     BorderThickness="1"
     Background="#232629"
                    
     Padding="8"
     HorizontalAlignment="Center"
     VerticalAlignment="Center">
                <Button Background="Transparent" Command="{Binding PlayRecodingCommand}" 
         BorderThickness="0"
         Cursor="Hand"
         Width="120" Height="120">
                    <StackPanel>
                        <Image Source="/Assets/Images/rec-icon.png" Visibility="{Binding IsRecButtonVisible, Converter={StaticResource BoolToVis}}"
            Stretch="Uniform"/>

                        <TextBlock x:Name="txtCountdown" Visibility="{Binding IsCountdownVisible, Converter={StaticResource BoolToVis}}"
           Text="{Binding CountdownText}"
           FontFamily="Arial"
           FontSize="36"
           FontWeight="Bold"
           Foreground="#FF5A5A"
           HorizontalAlignment="Center"
           VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
            </Border>

        </Grid>

        <Grid x:Name="GridRecord" Visibility="{Binding IsRecordingPanelVisible, Converter={StaticResource BoolToVis}}" Background="#1C1F21" IsEnabled="{Binding IsEditEnabled}"> 
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="120" />
                <ColumnDefinition Width="120" />

            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" Margin="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Background="#2E3337">
                    <TextBlock Text="Duration Recording" FontFamily="Arial" FontSize="20" Foreground="#CCD5D7" HorizontalAlignment="Center" Margin="0 6 0 0" />
                </StackPanel>

                <StackPanel Grid.Row="1" Background="#232629">
                    <TextBlock x:Name="txtRecTimer" Text="{Binding TextRecTimer, Mode=TwoWay}" Foreground="#CCD5D7" FontFamily="Arial" FontWeight="Bold" FontSize="44" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 32 0 0"/>
                </StackPanel>
            </Grid>

            <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button Background="Transparent" BorderThickness="0" Cursor="Hand" Width="120" Height="120" Command="{Binding PauseRecordingCommand}">
                    <StackPanel>
                        <Image Source="{Binding ButtonPlayPauseIcon}" Stretch="Uniform"/>
                        <TextBlock TextAlignment="Center" Text="{Binding PauseResumeText, Mode=TwoWay}" Foreground="#CCD5D7" FontFamily="Arial" FontWeight="Medium" />
                    </StackPanel>
                </Button>
            </StackPanel>

            <StackPanel Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button Background="Transparent" BorderThickness="0" Cursor="Hand" Width="120" Height="120" Command="{Binding StopRecordingCommand}">
                    <StackPanel>
                        <Image Source="/Assets/Images/stop-icon.png" Stretch="Uniform"/>
                        <TextBlock TextAlignment="Center" Text="Stop" Foreground="#CCD5D7" FontFamily="Arial" FontWeight="Medium" />
                    </StackPanel>
                </Button>
            </StackPanel>

        </Grid>

    </Grid>
</Window>